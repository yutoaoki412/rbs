<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title id="page-title">RBSé™¸ä¸Šæ•™å®¤ å¤§æ³‰å­¦åœ’æ ¡ é–‹æ ¡æº–å‚™ä¸­ - RBSé™¸ä¸Šæ•™å®¤</title>
  <meta name="description" id="page-description" content="2025å¹´6æœˆã‚ˆã‚Šã€ç·´é¦¬åŒºå¤§æ³‰å­¦åœ’ã«ã¦RBSé™¸ä¸Šæ•™å®¤ãŒã‚¹ã‚¿ãƒ¼ãƒˆã—ã¾ã™ã€‚å¹´é•·ã‹ã‚‰å°å­¦6å¹´ç”Ÿã‚’å¯¾è±¡ã¨ã—ãŸã€èµ°åŠ›ã¨éèªçŸ¥èƒ½åŠ›ã‚’åŒæ™‚ã«è‚²ã¦ã‚‹æ–°ã—ã„å½¢ã®é™¸ä¸Šæ•™å®¤ã§ã™ã€‚">
  <meta name="keywords" content="RBSé™¸ä¸Šæ•™å®¤, å¤§æ³‰å­¦åœ’, é™¸ä¸Šæ•™å®¤, é–‹æ ¡, ãŠçŸ¥ã‚‰ã›">
  
  <!-- OGPè¨­å®š -->
  <meta property="og:title" id="og-title" content="RBSé™¸ä¸Šæ•™å®¤ å¤§æ³‰å­¦åœ’æ ¡ é–‹æ ¡æº–å‚™ä¸­">
  <meta property="og:description" id="og-description" content="2025å¹´6æœˆã‚ˆã‚Šã€ç·´é¦¬åŒºå¤§æ³‰å­¦åœ’ã«ã¦RBSé™¸ä¸Šæ•™å®¤ãŒã‚¹ã‚¿ãƒ¼ãƒˆã—ã¾ã™ã€‚">
  <meta property="og:type" content="article">
  <meta property="og:url" id="og-url" content="">
  <meta property="og:image" content="images/lp-logo.png">
  <meta property="og:site_name" content="RBSé™¸ä¸Šæ•™å®¤">
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" id="twitter-title" content="RBSé™¸ä¸Šæ•™å®¤ å¤§æ³‰å­¦åœ’æ ¡ é–‹æ ¡æº–å‚™ä¸­">
  <meta name="twitter:description" id="twitter-description" content="2025å¹´6æœˆã‚ˆã‚Šã€ç·´é¦¬åŒºå¤§æ³‰å­¦åœ’ã«ã¦RBSé™¸ä¸Šæ•™å®¤ãŒã‚¹ã‚¿ãƒ¼ãƒˆã—ã¾ã™ã€‚">
  <meta name="twitter:image" content="images/lp-logo.png">
  
  <!-- Markdownãƒ‘ãƒ¼ã‚µãƒ¼ -->
  <script src="js/app/article-display.js"></script>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
  <header>
    <nav>
      <div class="logo">
        <a href="index.html">
          <img src="images/lp-logo.png" alt="RBSé™¸ä¸Šæ•™å®¤ Running & Brain School" class="logo-image">
        </a>
      </div>
      <ul class="nav-links">
        <li><a href="index.html#about">RBSã¨ã¯</a></li>
        <li><a href="index.html#program">ãƒ—ãƒ­ã‚°ãƒ©ãƒ </a></li>
        <li><a href="index.html#coach">ã‚³ãƒ¼ãƒ</a></li>
        <li><a href="index.html#location">æ•™å®¤æƒ…å ±</a></li>
        <li><a href="index.html#price">æ–™é‡‘</a></li>
        <li><a href="index.html#faq">ã‚ˆãã‚ã‚‹è³ªå•</a></li>
        <li><a href="news.html">NEWS</a></li>
        <li><a href="https://hacomono.jp/" class="login-btn" target="_blank">ä¼šå“¡ãƒ­ã‚°ã‚¤ãƒ³</a></li>
      </ul>
      <button class="mobile-menu-btn" onclick="toggleMobileMenu()">â˜°</button>
    </nav>
  </header>

  <main>
    <div class="container">
      <!-- ãƒ‘ãƒ³ããšãƒŠãƒ“ -->
      <nav class="breadcrumb">
        <ol class="breadcrumb-list">
          <li><a href="index.html">ãƒ›ãƒ¼ãƒ </a></li>
          <li><span class="breadcrumb-separator">â€º</span></li>
          <li><a href="news.html">NEWS</a></li>
          <li><span class="breadcrumb-separator">â€º</span></li>
          <li class="current" id="breadcrumb-title">RBSé™¸ä¸Šæ•™å®¤ å¤§æ³‰å­¦åœ’æ ¡ é–‹æ ¡æº–å‚™ä¸­</li>
        </ol>
      </nav>

      <!-- è¨˜äº‹ãƒ˜ãƒƒãƒ€ãƒ¼ -->
      <article class="article-header">
        <div class="article-meta">
          <div class="article-date" id="article-date">2025.05.20</div>
          <div class="article-category announcement" id="article-category">ãŠçŸ¥ã‚‰ã›</div>
        </div>
        <h1 class="article-title" id="article-title">RBSé™¸ä¸Šæ•™å®¤ å¤§æ³‰å­¦åœ’æ ¡ é–‹æ ¡æº–å‚™ä¸­</h1>
      </article>

      <!-- è¨˜äº‹æœ¬æ–‡ -->
      <div class="article-content" id="article-content">
        <p>ã„ã¤ã‚‚RBSé™¸ä¸Šæ•™å®¤ã«ã”é–¢å¿ƒã‚’ãŠå¯„ã›ã„ãŸã ãã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚</p>
        
        <p>ã“ã®åº¦ã€<strong>2025å¹´6æœˆã‚ˆã‚Šç·´é¦¬åŒºå¤§æ³‰å­¦åœ’ã«ã¦RBSé™¸ä¸Šæ•™å®¤ãŒã‚¹ã‚¿ãƒ¼ãƒˆ</strong>ã™ã‚‹ã“ã¨ã‚’ãŠçŸ¥ã‚‰ã›ã„ãŸã—ã¾ã™ã€‚</p>

        <h2>RBSé™¸ä¸Šæ•™å®¤ã¨ã¯</h2>
        <p>RBSé™¸ä¸Šæ•™å®¤ã¯ã€å¹´é•·ã‹ã‚‰å°å­¦6å¹´ç”Ÿã‚’å¯¾è±¡ã¨ã—ãŸã€<strong>èµ°åŠ›ã¨éèªçŸ¥èƒ½åŠ›ã‚’åŒæ™‚ã«è‚²ã¦ã‚‹</strong>æ–°ã—ã„å½¢ã®é™¸ä¸Šæ•™å®¤ã§ã™ã€‚</p>
        
        <div class="info-box">
          <h4>ğŸ¯ RBSã®ç‰¹å¾´</h4>
          <ul>
            <li><strong>èµ°åŠ›å‘ä¸Š</strong>ï¼šæ­£ã—ã„ãƒ•ã‚©ãƒ¼ãƒ ã¨åŠ¹ç‡çš„ãªèµ°ã‚Šæ–¹ã‚’ç¿’å¾—</li>
            <li><strong>éèªçŸ¥èƒ½åŠ›è‚²æˆ</strong>ï¼šé›†ä¸­åŠ›ãƒ»åˆ¤æ–­åŠ›ãƒ»æŒ‘æˆ¦å¿ƒã‚’è‚²ã‚€</li>
            <li><strong>å€‹åˆ¥æŒ‡å°</strong>ï¼šä¸€äººã²ã¨ã‚Šã®æˆé•·ã«åˆã‚ã›ãŸä¸å¯§ãªæŒ‡å°</li>
            <li><strong>æ¥½ã—ã„ç’°å¢ƒ</strong>ï¼šéŠã³æ„Ÿè¦šã§é‹å‹•èƒ½åŠ›ã‚’å‘ä¸Š</li>
          </ul>
        </div>

        <h2>é–‹æ ¡ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«</h2>
        <p>ç¾åœ¨ã€6æœˆã®é–‹æ ¡ã«å‘ã‘ã¦æœ€çµ‚æº–å‚™ã‚’é€²ã‚ã¦ãŠã‚Šã¾ã™ã€‚å…·ä½“çš„ãªã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š</p>
        
        <ul>
          <li><strong>5æœˆä¸‹æ—¬</strong>ï¼šç„¡æ–™ä½“é¨“ä¼šé–‹å‚¬ï¼ˆè©³ç´°ã¯åˆ¥é€”ãŠçŸ¥ã‚‰ã›ï¼‰</li>
          <li><strong>6æœˆç¬¬1é€±</strong>ï¼šæ­£å¼é–‹æ ¡ãƒ»ãƒ¬ãƒƒã‚¹ãƒ³é–‹å§‹</li>
          <li><strong>6æœˆä¸­æ—¬</strong>ï¼šå…¥ä¼šã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³å®Ÿæ–½äºˆå®š</li>
        </ul>

        <h2>é–‹å‚¬å ´æ‰€ãƒ»æ™‚é–“</h2>
        <div class="info-box">
          <h4>ğŸ“ æ•™å®¤æƒ…å ±</h4>
          <p><strong>å ´æ‰€</strong>ï¼šç·´é¦¬åŒºç«‹å¤§æ³‰ä¸­å¤®å…¬åœ’ï¼ˆé™¸ä¸Šã‚¨ãƒªã‚¢ï¼‰<br>
          <strong>ã‚¢ã‚¯ã‚»ã‚¹</strong>ï¼šè¥¿æ­¦æ± è¢‹ç·šã€Œå¤§æ³‰å­¦åœ’é§…ã€ã‚ˆã‚Šå¾’æ­©ç´„15åˆ†<br>
          <strong>é–‹å‚¬æ—¥</strong>ï¼šæ¯é€±æœˆæ›œæ—¥</p>
          
          <p><strong>æ™‚é–“å‰²</strong>ï¼š<br>
          ãƒ»ãƒ™ãƒ¼ã‚·ãƒƒã‚¯ã‚³ãƒ¼ã‚¹ï¼ˆå¹´é•·ã€œå°3ï¼‰ï¼š17:00ã€œ17:50<br>
          ãƒ»ã‚¢ãƒ‰ãƒãƒ³ã‚¹ã‚³ãƒ¼ã‚¹ï¼ˆå°4ã€œå°6ï¼‰ï¼š18:00ã€œ18:50</p>
        </div>

        <h2>ç„¡æ–™ä½“é¨“ä¼šã«ã¤ã„ã¦</h2>
        <p>é–‹æ ¡ã«å…ˆç«‹ã¡ã€<strong>5æœˆä¸‹æ—¬ã«ç„¡æ–™ä½“é¨“ä¼š</strong>ã‚’é–‹å‚¬äºˆå®šã§ã™ã€‚å®Ÿéš›ã®ãƒ¬ãƒƒã‚¹ãƒ³ã®ä¸€éƒ¨ã‚’ä½“é¨“ã—ã¦ã„ãŸã ãã€RBSé™¸ä¸Šæ•™å®¤ã®é­…åŠ›ã‚’æ„Ÿã˜ã¦ã„ãŸã ã‘ã¾ã™ã€‚</p>
        
        <div class="highlight">
          ç„¡æ–™ä½“é¨“ä¼šã®è©³ç´°ã¯ã€è¿‘æ—¥ä¸­ã«ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã«ã¦ç™ºè¡¨ã„ãŸã—ã¾ã™ï¼
        </div>

        <h2>ãŠå•ã„åˆã‚ã›</h2>
        <p>RBSé™¸ä¸Šæ•™å®¤ã«é–¢ã™ã‚‹ã”è³ªå•ã‚„ãŠå•ã„åˆã‚ã›ã¯ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ ã¾ãŸã¯ãŠé›»è©±ã«ã¦æ‰¿ã£ã¦ãŠã‚Šã¾ã™ã€‚</p>
        
        <p>çš†æ§˜ã«ãŠä¼šã„ã§ãã‚‹ã“ã¨ã‚’ã€ã‚¹ã‚¿ãƒƒãƒ•ä¸€åŒå¿ƒã‚ˆã‚ŠãŠå¾…ã¡ã—ã¦ãŠã‚Šã¾ã™ã€‚</p>
      </div>

      <!-- SNSã‚·ã‚§ã‚¢ -->
      <div class="share-section">
        <div class="share-title">ã“ã®è¨˜äº‹ã‚’ã‚·ã‚§ã‚¢</div>
        <div class="share-buttons">
          <a href="#" class="share-btn twitter" onclick="shareTwitter()">
            ğŸ¦ Twitter
          </a>
          <a href="#" class="share-btn facebook" onclick="shareFacebook()">
            ğŸ“˜ Facebook
          </a>
          <a href="#" class="share-btn line" onclick="shareLine()">
            ğŸ’¬ LINE
          </a>
          <a href="#" class="share-btn copy" onclick="copyUrl()">
            ğŸ“‹ URLã‚³ãƒ”ãƒ¼
          </a>
        </div>
      </div>

      <!-- é–¢é€£è¨˜äº‹ -->
      <div class="related-articles">
        <h3 class="related-title">é–¢é€£è¨˜äº‹</h3>
        <div class="related-grid" id="related-articles-container">
          <!-- é–¢é€£è¨˜äº‹ã¯å‹•çš„ã«ç”Ÿæˆã•ã‚Œã¾ã™ -->
        </div>
      </div>

      <!-- è¨˜äº‹ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
      <div class="article-nav" id="article-navigation">
        <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã¯å‹•çš„ã«ç”Ÿæˆã•ã‚Œã¾ã™ -->
        <a href="news.html" class="nav-btn">ä¸€è¦§ã«æˆ»ã‚‹</a>
      </div>
    </div>
  </main>

  <!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
  <footer>
    <div class="footer-links">
      <a href="/terms">ç‰¹å®šå•†å–å¼•æ³•ã«åŸºã¥ãè¡¨è¨˜</a>
      <a href="/privacy">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a>
      <a href="https://hacomono.jp/" target="_blank">ä¼šå“¡ãƒ­ã‚°ã‚¤ãƒ³</a>
    </div>
    <p>Â© 2025 åˆåŒä¼šç¤¾VITA. All rights reserved.</p>
  </footer>

  <script>
    // è¨˜äº‹ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
    const articleManager = new ArticleManager();

    // ãƒ¢ãƒã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼åˆ‡ã‚Šæ›¿ãˆ
    function toggleMobileMenu() {
      const navLinks = document.querySelector('.nav-links');
      navLinks.classList.toggle('active');
    }

    // URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‹ã‚‰è¨˜äº‹IDã‚’å–å¾—
    function getArticleId() {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get('id') || '1';
    }

    // è¨˜äº‹ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿
    async function loadArticle() {
      const loadingContainer = document.getElementById('article-content');
      loadingContainer.innerHTML = `<div style="text-align: center; padding: 50px;"><div style="border: 3px solid #f3f3f3; border-top: 3px solid var(--primary-blue); border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 0 auto 20px;"></div>è¨˜äº‹ã‚’èª­ã¿è¾¼ã‚“ã§ã„ã¾ã™...</div>`;

      try {
        // Load all published articles metadata first (for related articles, navigation)
        // This is important to have available before trying to render related/nav components.
        await articleManager.loadArticles(); 
        
        const articleId = getArticleId();
        // Fetch the specific article with its parsed HTML content
        const article = await articleManager.getArticleWithContentById(articleId); 
        
        if (!article) { // Handles not found or not published
          showNotFoundError();
          return;
        }
        
        // ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«ã¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°
        updatePageMetadata(article);
        
        // è¨˜äº‹å†…å®¹ã‚’æ›´æ–°
        updateArticleContent(article);
        
        // é–¢é€£è¨˜äº‹ã‚’ç”Ÿæˆ (uses articleManager.articles populated by loadArticles)
        generateRelatedArticles(article);
        
        // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆ (uses articleManager.articles)
        generateNavigation(article);
        
      } catch (error) {
        console.error('è¨˜äº‹ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ:', error);
        showLoadError();
      }
    }

    // ãƒšãƒ¼ã‚¸ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°
    function updatePageMetadata(article) {
      // Use article.excerpt for meta description if available, otherwise a snippet of content.
      // The `htmlContent` is already parsed HTML, so avoid using it directly for meta description.
      // Use raw `article.content` (markdown) for text snippet if excerpt is empty.
      let descriptionText = article.excerpt;
      if (!descriptionText && article.content) {
        descriptionText = article.content.substring(0, 150).replace(/\s+/g, ' ').trim() + '...';
      } else if (!descriptionText) {
        descriptionText = "RBSé™¸ä¸Šæ•™å®¤ã®æœ€æ–°ãƒ‹ãƒ¥ãƒ¼ã‚¹ã§ã™ã€‚"; // Fallback
      }
      
      document.title = `${article.title} - RBSé™¸ä¸Šæ•™å®¤`; // Updated to use document.title
      document.getElementById('page-description').setAttribute('content', escapeHtml(descriptionText));
      document.getElementById('og-title').setAttribute('content', escapeHtml(article.title));
      document.getElementById('og-description').setAttribute('content', escapeHtml(descriptionText));
      document.getElementById('twitter-title').setAttribute('content', escapeHtml(article.title));
      document.getElementById('twitter-description').setAttribute('content', escapeHtml(descriptionText));
      document.getElementById('og-url').setAttribute('content', window.location.href);
      // Ensure breadcrumb also uses escaped title
      const breadcrumbTitle = document.getElementById('breadcrumb-title');
      if (breadcrumbTitle) breadcrumbTitle.textContent = escapeHtml(article.title);
    }

    // è¨˜äº‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ›´æ–°
    function updateArticleContent(article) {
      // Breadcrumb title already set in updatePageMetadata
      // document.getElementById('breadcrumb-title').textContent = escapeHtml(article.title);
      document.getElementById('article-date').textContent = articleManager.formatDate(article.date);
      
      // Use categoryName from article object (from API), fallback to manager method if needed
      const categoryName = article.categoryName || articleManager.getCategoryName(article.category);
      const categoryEl = document.getElementById('article-category');
      categoryEl.textContent = escapeHtml(categoryName);
      categoryEl.className = `article-category ${escapeHtml(article.category)}`;
      categoryEl.style.background = articleManager.getCategoryColor(article.category);
      
      document.getElementById('article-title').textContent = escapeHtml(article.title);
      // Use the pre-parsed htmlContent from the article object
      document.getElementById('article-content').innerHTML = article.htmlContent || '<p>è¨˜äº‹ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>';
    }

    // é–¢é€£è¨˜äº‹ã‚’ç”Ÿæˆ
    function generateRelatedArticles(currentArticle) {
      const container = document.getElementById('related-articles-container');
      if (!container || !articleManager) return;

      // ç¾åœ¨ã®è¨˜äº‹ä»¥å¤–ã®è¨˜äº‹ã‚’å–å¾—ï¼ˆæœ€å¤§2ä»¶ï¼‰ - ensure IDs are compared correctly (string vs number)
      const currentArticleIdStr = String(currentArticle.id);
      const relatedArticles = articleManager.articles
        .filter(article => String(article.id) !== currentArticleIdStr) 
        .sort((a, b) => new Date(b.date) - new Date(a.date))
        .slice(0, 2);

      if (relatedArticles.length === 0) {
        container.innerHTML = '<p style="text-align: center; color: var(--gray-medium); padding: 40px;">é–¢é€£è¨˜äº‹ãŒã‚ã‚Šã¾ã›ã‚“</p>';
        return;
      }

      const html = relatedArticles.map(article => `
        <div class="related-card">
          <div class="related-card-header">
            <div class="related-meta">
              <div class="related-date">${articleManager.formatDate(article.date)}</div>
              <div class="related-category ${article.category}">${article.categoryName}</div>
            </div>
            <a href="news-detail.html?id=${article.id}" class="related-title-link">${escapeHtml(article.title)}</a>
          </div>
          <div class="related-card-body">
            <p class="related-excerpt">${escapeHtml(article.excerpt)}</p>
          </div>
        </div>
      `).join('');

      container.innerHTML = html;
    }

    // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆ
    function generateNavigation(currentArticle) {
      const container = document.getElementById('article-navigation');
      if (!container || !articleManager) return;

      // è¨˜äº‹ã‚’æ—¥ä»˜é †ã§ã‚½ãƒ¼ãƒˆ
      const sortedArticles = articleManager.articles
        .sort((a, b) => new Date(b.date) - new Date(a.date));

      const currentArticleIdStr = String(currentArticle.id);
      const currentIndex = sortedArticles.findIndex(article => String(article.id) === currentArticleIdStr);
      
      let navigationHtml = '';

      // Previous Article (Older)
      if (currentIndex < sortedArticles.length - 1 && currentIndex !== -1) {
        const prevArticle = sortedArticles[currentIndex + 1];
        navigationHtml += `<a href="news-detail.html?id=${prevArticle.id}" class="nav-btn prev">å‰ã®è¨˜äº‹: ${escapeHtml(prevArticle.title)}</a>`;
      } else {
         navigationHtml += `<span class="nav-btn disabled prev">å‰ã®è¨˜äº‹ã¯ã‚ã‚Šã¾ã›ã‚“</span>`;
      }

      // Next Article (Newer)
      if (currentIndex > 0) {
        const nextArticle = sortedArticles[currentIndex - 1];
        navigationHtml += `<a href="news-detail.html?id=${nextArticle.id}" class="nav-btn next">æ¬¡ã®è¨˜äº‹: ${escapeHtml(nextArticle.title)}</a>`;
      } else {
        navigationHtml += `<span class="nav-btn disabled next">æ¬¡ã®è¨˜äº‹ã¯ã‚ã‚Šã¾ã›ã‚“</span>`;
      }

      // "Back to List" button can be styled differently or kept as part of this flow
      const backToListBtn = `<a href="news.html" class="nav-btn" style="grid-column: 1 / -1; text-align: center; margin-top: 20px;">ãƒ‹ãƒ¥ãƒ¼ã‚¹ä¸€è¦§ã«æˆ»ã‚‹</a>`;
      
      container.innerHTML = navigationHtml + backToListBtn; // Append "Back to List"
    }

    // HTMLã‚¨ã‚¹ã‚±ãƒ¼ãƒ—é–¢æ•°
    function escapeHtml(text) {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }

    // è¨˜äº‹ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã®ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
    function showNotFoundError() {
      document.getElementById('article-content').innerHTML = `
        <div style="text-align: center; padding: 60px 20px; color: var(--gray-medium);">
          <h2 style="color: var(--primary-red); margin-bottom: 20px;">è¨˜äº‹ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“</h2>
          <p style="font-size: 18px; margin-bottom: 30px;">ãŠæ¢ã—ã®è¨˜äº‹ã¯å­˜åœ¨ã—ãªã„ã‹ã€å‰Šé™¤ã•ã‚ŒãŸå¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚</p>
          <a href="news.html" style="display: inline-block; padding: 12px 30px; background: var(--primary-blue); color: white; text-decoration: none; border-radius: 25px; font-weight: 600;">ãƒ‹ãƒ¥ãƒ¼ã‚¹ä¸€è¦§ã«æˆ»ã‚‹</a>
        </div>
      `;
    }

    // èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼ã®è¡¨ç¤º
    function showLoadError() {
      document.getElementById('article-content').innerHTML = `
        <div style="text-align: center; padding: 60px 20px; color: var(--primary-red);">
          <h2 style="margin-bottom: 20px;">è¨˜äº‹ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ</h2>
          <p style="font-size: 18px; margin-bottom: 30px;">ã—ã°ã‚‰ãæ™‚é–“ã‚’ãŠã„ã¦ã‹ã‚‰å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚</p>
          <button onclick="location.reload()" style="padding: 12px 30px; background: var(--primary-blue); color: white; border: none; border-radius: 25px; font-weight: 600; cursor: pointer;">å†èª­ã¿è¾¼ã¿</button>
        </div>
      `;
    }

    // SNSã‚·ã‚§ã‚¢æ©Ÿèƒ½
    function shareTwitter() {
      const url = encodeURIComponent(window.location.href);
      const text = encodeURIComponent(document.getElementById('article-title').textContent);
      window.open(`https://twitter.com/intent/tweet?url=${url}&text=${text}`, '_blank');
    }

    function shareFacebook() {
      const url = encodeURIComponent(window.location.href);
      window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}`, '_blank');
    }

    function shareLine() {
      const url = encodeURIComponent(window.location.href);
      const text = encodeURIComponent(document.getElementById('article-title').textContent);
      window.open(`https://social-plugins.line.me/lineit/share?url=${url}&text=${text}`, '_blank');
    }

    function copyUrl() {
      navigator.clipboard.writeText(window.location.href).then(() => {
        alert('URLã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼');
      }).catch(() => {
        // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
        const textArea = document.createElement('textarea');
        textArea.value = window.location.href;
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand('copy');
        document.body.removeChild(textArea);
        alert('URLã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼');
      });
    }

    // ãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½ï¼ˆé–‹ç™ºæ™‚ã®ã¿ï¼‰
    function debugArticleDetail() {
      const urlParams = new URLSearchParams(window.location.search);
      const articleId = urlParams.get('id');
      
      console.log('=== news-detail.html ãƒ‡ãƒãƒƒã‚°æƒ…å ± ===');
      console.log('è¦æ±‚ã•ã‚ŒãŸè¨˜äº‹ID:', articleId);
      console.log('ArticleManagerè¨˜äº‹æ•°:', articleManager ? articleManager.articles.length : 'ArticleManageræœªåˆæœŸåŒ–');
      console.log('è¨˜äº‹ä¸€è¦§:', articleManager ? articleManager.articles : 'ãªã—');
      
      if (articleManager && articleManager.debugInfo) {
        articleManager.debugInfo();
      }
      console.log('================================');
    }

    // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã®å‡¦ç†
    document.addEventListener('DOMContentLoaded', function() {
      loadArticle();
      
      // ãƒ‡ãƒãƒƒã‚°æƒ…å ±ã‚’å‡ºåŠ›ï¼ˆé–‹ç™ºæ™‚ã®ã¿ï¼‰
      setTimeout(() => {
        debugArticleDetail();
      }, 1000);
      
      // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœ
      const elements = document.querySelectorAll('.article-header, .article-content, .share-section, .related-articles');
      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry, index) => {
          if (entry.isIntersecting) {
            setTimeout(() => {
              entry.target.style.opacity = '1';
              entry.target.style.transform = 'translateY(0)';
            }, index * 100);
            observer.unobserve(entry.target);
          }
        });
      }, {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      });

      elements.forEach(element => {
        element.style.opacity = '0';
        element.style.transform = 'translateY(30px)';
        element.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(element);
      });
    });

    // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒªãƒ³ã‚¯ã®ã‚¯ãƒªãƒƒã‚¯æ™‚ã«ãƒ¢ãƒã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‰ã˜ã‚‹
    document.querySelectorAll('.nav-links a').forEach(link => {
      link.addEventListener('click', function() {
        const navLinks = document.querySelector('.nav-links');
        if (navLinks.classList.contains('active')) {
          navLinks.classList.remove('active');
        }
      });
    });
  </script>
</body>
</html> 