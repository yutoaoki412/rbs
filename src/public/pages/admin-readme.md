# RBS陸上教室 管理画面

## 概要

RBS陸上教室の管理画面では、以下の機能を管理できます：

1. **レッスン開催状況の更新**
2. **ニュース記事の作成・編集・削除**
3. **Instagram投稿リンクの管理**

## アクセス方法

管理画面にアクセスするには：

1. ブラウザで `admin-login.html` にアクセス（または `admin.html` にアクセスすると自動でリダイレクト）
2. ログイン画面でパスワードを入力（デフォルト: `rbs2024admin`）
3. 認証成功後、管理画面が表示されます

### セキュリティ機能

- **ログイン試行制限**: 5回連続で失敗すると15分間ロックアウト
- **セッション管理**: 8時間で自動ログアウト
- **自動セッション延長**: アクティブな場合は自動で延長

## 機能詳細

### 1. レッスン開催状況管理

#### 機能
- 本日のレッスン開催状況を更新
- ベーシックコース（年長〜小3）とアドバンスコース（小4〜小6）の状況を個別に設定
- 保護者向けメッセージの追加

#### 使用方法
1. 「レッスン状況」タブを選択
2. 対象日を選択（デフォルトは今日）
3. 各コースの開催状況を選択：
   - **通常開催**: 通常通り開催
   - **中止**: レッスン中止
   - **室内開催**: 室内での開催
   - **延期**: レッスン延期
4. 必要に応じてメッセージを入力
5. 「状況を更新」ボタンをクリック

#### プレビュー機能
- 「プレビュー」ボタンで実際の表示を確認可能
- 通常開催以外の場合、メインサイトにバナーが表示されます

### 2. ニュース管理

#### 機能
- 新規記事の作成
- 既存記事の編集・削除
- 下書き保存と公開機能
- Markdownエディター
- カテゴリー別管理

#### 使用方法

##### 新規記事作成
1. 「ニュース管理」タブを選択
2. 記事情報を入力：
   - **タイトル**: 記事のタイトル
   - **カテゴリー**: お知らせ/体験会/メディア/重要
   - **公開日**: 記事の公開日
   - **ステータス**: 下書き/公開
   - **概要**: 一覧ページで表示される概要
   - **本文**: Markdown形式で記事本文
3. 「保存」または「公開」ボタンをクリック

##### Markdownエディター
- **B**: 太字（`**テキスト**`）
- **H2**: 見出し（`## 見出し`）
- **H3**: 小見出し（`### 小見出し`）
- **•**: リスト（`- 項目`）
- **👁**: プレビュー表示

##### 記事管理
- 記事一覧から「編集」「削除」が可能
- フィルター機能で公開/下書きを絞り込み
- ステータスとカテゴリーがバッジで表示

### 3. Instagram管理

#### 機能
- Instagram投稿リンクの追加
- カテゴリー別管理
- 投稿の削除

#### 使用方法

##### 新規投稿追加
1. 「Instagram管理」タブを選択
2. 投稿情報を入力：
   - **Instagram URL**: 投稿のURL（`https://www.instagram.com/p/...`）
   - **タイトル**: 投稿のタイトル
   - **投稿日**: 投稿日
   - **カテゴリー**: レッスン風景/イベント/成果・記録/その他
   - **説明**: 投稿の説明
3. 「追加」ボタンをクリック

##### 投稿管理
- 投稿一覧から「表示」「削除」が可能
- フィルター機能でカテゴリー別に絞り込み
- 「表示」ボタンで実際のInstagram投稿を新しいタブで開く

## データ保存について

### LocalStorage使用
管理画面のデータは以下のキーでLocalStorageに保存されます：

- `rbs_articles_data`: 記事データ
- `rbs_articles_content`: 記事コンテンツ
- `rbs_instagram_posts`: Instagram投稿データ
- `rbs_lesson_status`: レッスン状況データ
- `rbs_admin_auth`: 認証情報

### バックアップ推奨
重要なデータは定期的にバックアップを取ることを推奨します。

## セキュリティ

### 認証
- 簡易パスワード認証を実装
- 実際の運用では、より堅牢な認証システムの導入を推奨

### アクセス制限
- 管理画面は検索エンジンにインデックスされないよう設定（`noindex, nofollow`）
- 適切なアクセス制限の設定を推奨

## トラブルシューティング

### よくある問題

#### 1. データが表示されない
- ブラウザのLocalStorageを確認
- コンソールエラーをチェック
- ページを再読み込み

#### 2. 記事が公開されない
- ステータスが「公開」になっているか確認
- 必須項目がすべて入力されているか確認

#### 3. レッスン状況が反映されない
- 日付が正しく設定されているか確認
- メインサイトでページを再読み込み

### デバッグ情報
ブラウザの開発者ツールのコンソールで詳細なログを確認できます。

## 今後の改善予定

1. **画像アップロード機能**
2. **記事のプレビュー機能強化**
3. **データのエクスポート/インポート機能**
4. **より高度な認証システム**
5. **記事の予約公開機能**

## サポート

問題が発生した場合は、開発チームまでお問い合わせください。 